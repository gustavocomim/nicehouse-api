"use strict";(self.webpackChunkapi=self.webpackChunkapi||[]).push([[801],{14696:(Kt,X,n)=>{n.r(X),n.d(X,{default:()=>wt});var e=n(67294),s=n(22008),Ie=n(88767),Re=n(27361),Ae=n.n(Re);const q={i8:"4.10.7"};var D=n(95428),E=n(16550),W=n(86706),Le=n(99168),Pe=n(61080),ke=n(38914),_=n.n(ke);const xe={contentTypeBuilder:{home:{title:{id:"app.components.GuidedTour.home.CTB.title",defaultMessage:"\u{1F9E0} Build the content structure"},cta:{title:{id:"app.components.GuidedTour.home.CTB.cta.title",defaultMessage:"Go to the Content type Builder"},type:"REDIRECT",target:"/plugins/content-type-builder"},trackingEvent:"didClickGuidedTourHomepageContentTypeBuilder"},create:{title:{id:"app.components.GuidedTour.CTB.create.title",defaultMessage:"\u{1F9E0} Create a first Collection type"},content:{id:"app.components.GuidedTour.CTB.create.content",defaultMessage:"<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>"},cta:{title:{id:"app.components.GuidedTour.CTB.create.cta.title",defaultMessage:"Build a Collection type"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep1CollectionType"},success:{title:{id:"app.components.GuidedTour.CTB.success.title",defaultMessage:"Step 1: Completed \u2705"},content:{id:"app.components.GuidedTour.CTB.success.content",defaultMessage:"<p>Good going!</p><b>\u26A1\uFE0F What would you like to share with the world?</b>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didCreateGuidedTourCollectionType"}},contentManager:{home:{title:{id:"app.components.GuidedTour.home.CM.title",defaultMessage:"\u26A1\uFE0F What would you like to share with the world?"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didClickGuidedTourHomepageContentManager"},create:{title:{id:"app.components.GuidedTour.CM.create.title",defaultMessage:"\u26A1\uFE0F Create content"},content:{id:"app.components.GuidedTour.CM.create.content",defaultMessage:"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>\u{1F4A1} Quick tip - Don't forget to hit publish on the content you create.</p>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep2ContentManager"},success:{title:{id:"app.components.GuidedTour.CM.success.title",defaultMessage:"Step 2: Completed \u2705"},content:{id:"app.components.GuidedTour.CM.success.content",defaultMessage:"<p>Awesome, one last step to go!</p><b>\u{1F680}  See content in action</b>"},cta:{title:{id:"app.components.GuidedTour.CM.success.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didCreateGuidedTourEntry"}},apiTokens:{home:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},cta:{title:{id:"app.components.GuidedTour.home.apiTokens.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didClickGuidedTourHomepageApiTokens"},create:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},content:{id:"app.components.GuidedTour.apiTokens.create.content",defaultMessage:"<p>Generate an authentication token here and retrieve the content you just created.</p>"},cta:{title:{id:"app.components.GuidedTour.apiTokens.create.cta.title",defaultMessage:"Generate an API Token"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep3ApiTokens"},success:{title:{id:"app.components.GuidedTour.apiTokens.success.title",defaultMessage:"Step 3: Completed \u2705"},content:{id:"app.components.GuidedTour.apiTokens.success.content",defaultMessage:"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>"},trackingEvent:"didGenerateGuidedTourApiTokens"}}};var v=n(71997),Oe=n(45697),i=n.n(Oe),L=n(86896),d=n(11047),ee=n(44034),te=n(25896),Ge=n(12028),y=n(41580),j=n(29728),ne=n(70968);const Ne=(0,v.ZP)(d.k)`
  position: fixed;
  z-index: 4;
  inset: 0;
  /* this is theme.colors.neutral800 with opacity */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
`,ae=({onClose:t,onSkip:a,children:o,hideSkip:r})=>{const{formatMessage:u}=(0,L.Z)();return e.createElement(ee.h,null,e.createElement(Ne,{onClick:t,padding:8,justifyContent:"center"},e.createElement(te.i,{onEscape:t},e.createElement(d.k,{direction:"column",alignItems:"stretch",background:"neutral0",width:(0,s.Q1)(660),shadow:"popupShadow",hasRadius:!0,padding:4,gap:8,role:"dialog","aria-modal":!0,onClick:p=>p.stopPropagation()},e.createElement(d.k,{justifyContent:"flex-end"},e.createElement(Ge.h,{onClick:t,"aria-label":u({id:"app.utils.close-label",defaultMessage:"Close"}),icon:e.createElement(ne.Z,null)})),e.createElement(y.x,{paddingLeft:7,paddingRight:7,paddingBottom:r?8:0},o),!r&&e.createElement(d.k,{justifyContent:"flex-end"},e.createElement(j.z,{variant:"tertiary",onClick:a},u({id:"app.components.GuidedTour.skip",defaultMessage:"Skip the tour"})))))))};ae.propTypes={children:i().node.isRequired,onClose:i().func.isRequired,onSkip:i().func.isRequired,hideSkip:i().bool.isRequired};const Ze=ae;var oe=n(18172);const se={stepContent:null,sectionIndex:null,stepIndex:null,hasSectionAfter:!1,hasStepAfter:!1},Be=(t=se,a)=>(0,oe.ZP)(t,o=>{switch(a.type){case"UPDATE_MODAL":{o.stepContent=a.content,o.sectionIndex=a.newSectionIndex,o.stepIndex=a.newStepIndex,o.hasSectionAfter=a.newHasSectionAfter,o.hasStepAfter=a.newHasStepAfter;break}default:return o}});var f=n(75515),ie=n(37323);const De=v.ZP.li`
  list-style: disc;
  &::marker {
    color: ${({theme:t})=>t.colors.neutral800};
  }
`,re=({id:t,defaultMessage:a})=>{const{formatMessage:o}=(0,L.Z)();return e.createElement(d.k,{direction:"column",alignItems:"stretch",gap:4,paddingBottom:6},o({id:t,defaultMessage:a},{documentationLink:We,b:Fe,p:Ue,light:je,ul:$e,li:Qe}))},We=t=>e.createElement(f.Z,{as:"a",textColor:"primary600",target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters"},t),Fe=t=>e.createElement(f.Z,{fontWeight:"semiBold"},t),Ue=t=>e.createElement(f.Z,null,t),je=t=>e.createElement(f.Z,{textColor:"neutral600"},t),$e=t=>e.createElement(y.x,{paddingLeft:6},e.createElement("ul",null,t)),Qe=t=>e.createElement(De,null,t);re.propTypes={id:i().string.isRequired,defaultMessage:i().string.isRequired};const ze=re,k="isActive",M="isDone",x="isNotDone",$=({type:t,...a})=>e.createElement(y.x,{width:(0,s.Q1)(2),height:"100%",background:t===x?"neutral300":"primary500",hasRadius:!0,...a});$.defaultProps={type:x},$.propTypes={type:i().oneOf([k,M,x])};const Q=$;var F=n(52624),He=n(85018);const z=({type:t,number:a})=>t===M?e.createElement(d.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,s.Q1)(30),height:(0,s.Q1)(30),justifyContent:"center"},e.createElement(F.J,{as:He.Z,"aria-hidden":!0,width:(0,s.Q1)(16),color:"neutral0"})):t===k?e.createElement(d.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,s.Q1)(30),height:(0,s.Q1)(30),justifyContent:"center"},e.createElement(f.Z,{fontWeight:"semiBold",textColor:"neutral0"},a)):e.createElement(d.k,{borderColor:"neutral500",borderWidth:"1px",borderStyle:"solid",padding:2,borderRadius:"50%",width:(0,s.Q1)(30),height:(0,s.Q1)(30),justifyContent:"center"},e.createElement(f.Z,{fontWeight:"semiBold",textColor:"neutral600"},a));z.defaultProps={number:void 0,type:x},z.propTypes={number:i().number,type:i().oneOf([k,M,x])};const we=z,H=({number:t,last:a,type:o})=>e.createElement(y.x,{paddingTop:3,paddingBottom:a?0:3},e.createElement(we,{number:t,type:o}));H.defaultProps={number:void 0,last:!1,type:""},H.propTypes={number:i().number,last:i().bool,type:i().string};const le=H,w=({title:t,content:a,cta:o,onCtaClick:r,sectionIndex:u,stepIndex:p,hasSectionAfter:h})=>{const{formatMessage:m}=(0,L.Z)(),g=u>0,l=p>0,C=u+1;return e.createElement(e.Fragment,null,e.createElement(d.k,{alignItems:"stretch"},e.createElement(d.k,{marginRight:8,justifyContent:"center",minWidth:(0,s.Q1)(30)},g&&e.createElement(Q,{type:M,minHeight:(0,s.Q1)(24)})),e.createElement(f.Z,{variant:"sigma",textColor:"primary600"},m({id:"app.components.GuidedTour.title",defaultMessage:"3 steps to get started"}))),e.createElement(d.k,null,e.createElement(d.k,{marginRight:8,minWidth:(0,s.Q1)(30)},e.createElement(le,{number:u+1,type:l?M:k})),e.createElement(f.Z,{variant:"alpha",fontWeight:"bold",textColor:"neutral800",as:"h3",id:"title"},m(t))),e.createElement(d.k,{alignItems:"stretch"},e.createElement(d.k,{marginRight:8,direction:"column",justifyContent:"center",minWidth:(0,s.Q1)(30)},h&&e.createElement(e.Fragment,null,e.createElement(Q,{type:M}),l&&e.createElement(le,{number:C+1,type:k,last:!0}))),e.createElement(y.x,null,e.createElement(ze,{...a}),o&&(o.target?e.createElement(s.Qj,{endIcon:e.createElement(ie.Z,null),onClick:r,to:o.target},m(o.title)):e.createElement(j.z,{endIcon:e.createElement(ie.Z,null),onClick:r},m(o.title))))),l&&h&&e.createElement(y.x,{paddingTop:3},e.createElement(d.k,{marginRight:8,justifyContent:"center",width:(0,s.Q1)(30)},e.createElement(Q,{type:M,minHeight:(0,s.Q1)(24)}))))};w.defaultProps={currentStep:null,cta:void 0},w.propTypes={sectionIndex:i().number.isRequired,stepIndex:i().number.isRequired,hasSectionAfter:i().bool.isRequired,content:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired,cta:i().shape({target:i().string,title:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired})}),currentStep:i().string,onCtaClick:i().func.isRequired,title:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired};const Ve=w,Ke=()=>{const{currentStep:t,guidedTourState:a,setCurrentStep:o,setStepState:r,isGuidedTourVisible:u,setSkipped:p}=(0,s.c1)(),[h,m]=(0,e.useState)(t),[{stepContent:g,sectionIndex:l,stepIndex:C,hasSectionAfter:b,hasStepAfter:G},N]=(0,e.useReducer)(Be,se),{trackUsage:P}=(0,s.rS)();(0,e.useEffect)(()=>{if(!t){m(!1);return}const[I]=_()(a,t);m(!I&&u)},[t,a,u]),(0,e.useEffect)(()=>{if(t){const[I]=_()(xe,t),T=Object.keys(a),[R,c]=t.split("."),A=T.indexOf(R),U=Object.keys(a[R]).indexOf(c),B=A<T.length-1,Vt=U<Object.keys(a[R]).length-1;N({type:"UPDATE_MODAL",content:I,newSectionIndex:A,newStepIndex:U,newHasSectionAfter:B,newHasStepAfter:Vt})}},[t,a]);const S=()=>{r(t,!0),P(g.trackingEvent),o(null)},Z=()=>{p(!0),o(null),P("didSkipGuidedtour")};return h&&g?e.createElement(Ze,{hideSkip:!G&&!b,onSkip:Z,onClose:S},e.createElement(Ve,{...g,onCtaClick:S,currentStep:t,sectionIndex:l,stepIndex:C,hasSectionAfter:b})):null};var O=n(73727),ce=n(70004),Ye=n(64330),Je=n(37907),Xe=n(98994),V=n(38040),de=n(51974),qe=n(45842),_e=n(37227),et=n(56691),tt=n(42384),nt=n(90690);const at=(0,v.ZP)(y.x)`
  width: ${150/16}rem;
  position: absolute;
  bottom: ${({theme:t})=>t.spaces[9]};
  left: ${({theme:t})=>t.spaces[5]};
`,ue=(0,v.ZP)(O.OL)`
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-decoration: none;
  padding: ${({theme:t})=>`${t.spaces[2]} ${t.spaces[4]}`};
  border-radius: ${({theme:t})=>t.spaces[1]};

  &:hover {
    background: ${({theme:t,logout:a})=>a?t.colors.danger100:t.colors.primary100};
    text-decoration: none;
  }

  svg {
    path {
      fill: ${({theme:t})=>t.colors.danger600};
    }
  }
`,pe=({generalSectionLinks:t,pluginsSectionLinks:a})=>{const o=(0,e.useRef)(),[r,u]=(0,e.useState)(!1),{logos:{menu:p}}=(0,D.um)(),[h,m]=(0,s.Yw)("navbar-condensed",!1),{userDisplayName:g}=(0,s.L7)(),{formatMessage:l}=(0,L.Z)(),{trackUsage:C}=(0,s.rS)(),{pathname:b}=(0,E.TH)(),G=(0,E.k6)(),{post:N}=(0,s.tg)(),P=g.split(" ").map(c=>c.substring(0,1)).join("").substring(0,2),S=()=>u(c=>!c),Z=async()=>{await N("/admin/logout"),s.I8.clearAppStorage(),S(),G.push("/auth/login")},I=c=>{!c.currentTarget.contains(c.relatedTarget)&&c.relatedTarget?.parentElement?.id!=="main-nav-user-button"&&u(!1)},T=(c=null)=>{C("willNavigate",{from:b,to:c})},R=l({id:"app.components.LeftMenu.navbrand.title",defaultMessage:"Strapi Dashboard"});return e.createElement(Ye.$,{condensed:h},e.createElement(Je.D,{as:O.OL,workplace:l({id:"app.components.LeftMenu.navbrand.workplace",defaultMessage:"Workplace"}),title:R,icon:e.createElement("img",{src:p.custom||p.default,alt:l({id:"app.components.LeftMenu.logo.alt",defaultMessage:"Application logo"})})}),e.createElement(ce.i,null),e.createElement(Xe._,null,e.createElement(V.O,{as:O.OL,to:"/content-manager",icon:e.createElement(tt.Z,null),onClick:()=>T("/content-manager")},l({id:"global.content-manager",defaultMessage:"Content manager"})),a.length>0?e.createElement(de.y,{label:l({id:"app.components.LeftMenu.plugins",defaultMessage:"Plugins"})},a.map(c=>{const A=c.icon;return e.createElement(V.O,{as:O.OL,to:c.to,key:c.to,icon:e.createElement(A,null),onClick:()=>T(c.to)},l(c.intlLabel))})):null,t.length>0?e.createElement(de.y,{label:l({id:"app.components.LeftMenu.general",defaultMessage:"General"})},t.map(c=>{const A=c.icon;return e.createElement(V.O,{as:O.OL,badgeContent:c.notificationsCount>0&&c.notificationsCount.toString()||void 0,to:c.to,key:c.to,icon:e.createElement(A,null),onClick:()=>T(c.to)},l(c.intlLabel))})):null),e.createElement(qe.q,null,e.createElement(_e.r,{id:"main-nav-user-button",ref:o,onClick:S,initials:P},g),r&&e.createElement(at,{onBlur:I,padding:1,shadow:"tableShadow",background:"neutral0",hasRadius:!0},e.createElement(te.i,{onEscape:S},e.createElement(d.k,{direction:"column",alignItems:"stretch",gap:0},e.createElement(ue,{tabIndex:0,onClick:S,to:"/me"},e.createElement(f.Z,null,l({id:"global.profile",defaultMessage:"Profile"}))),e.createElement(ue,{tabIndex:0,onClick:Z,logout:"logout",to:"/auth/login"},e.createElement(f.Z,{textColor:"danger600"},l({id:"app.components.LeftMenu.logout",defaultMessage:"Logout"})),e.createElement(nt.Z,null))))),e.createElement(et.w,{onClick:()=>m(c=>!c)},l(h?{id:"app.components.LeftMenu.expand",defaultMessage:"Expand the navbar"}:{id:"app.components.LeftMenu.collapse",defaultMessage:"Collapse the navbar"}))))};pe.propTypes={generalSectionLinks:i().array.isRequired,pluginsSectionLinks:i().array.isRequired};const ot=pe;var st=n(727);const it=(0,v.ZP)(y.x)`
  flex: 1;
`,me=({children:t,sideNav:a})=>{const{formatMessage:o}=(0,L.Z)();return e.createElement(y.x,{background:"neutral100"},e.createElement(st.z,null,o({id:"skipToContent",defaultMessage:"Skip to content"})),e.createElement(d.k,{alignItems:"flex-start"},a,e.createElement(it,null,t)))};me.propTypes={children:i().node.isRequired,sideNav:i().node.isRequired};const rt=me;var K=n(19631),lt=n(36657),ct=n(34860),dt=n(63237),ut=n(90296),pt=n(87801),mt=n(90321);const gt=n.p+"19eb2dfcf2603eb55733.png";var ht=n(78976),ft=n(9474);const Et=[{label:{id:"app.components.Onboarding.link.build-content",defaultMessage:"Build a content architecture"},href:"https://www.youtube.com/watch?v=G9GjN0RxhkE",duration:"5:48"},{label:{id:"app.components.Onboarding.link.manage-content",defaultMessage:"Add & manage content"},href:"https://www.youtube.com/watch?v=DEZw4KbybAI",duration:"3:18"},{label:{id:"app.components.Onboarding.link.manage-media",defaultMessage:"Manage media"},href:"https://www.youtube.com/watch?v=-61MuiMQb38",duration:"3:41"}],ge={href:"https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq",label:{id:"app.components.Onboarding.link.more-videos",defaultMessage:"Watch more videos"}},yt=[{label:{id:"global.documentation",defaultMessage:"documentation"},href:"https://docs.strapi.io",icon:ht.Z},{label:{id:"app.static.links.cheatsheet",defaultMessage:"cheatsheet"},href:"https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf",icon:ft.Z}],vt=(0,v.ZP)(j.z)`
  border-radius: 50%;
  padding: ${({theme:t})=>t.spaces[3]};
  /* Resetting 2rem height defined by Button component */
  height: 100%;
`,Ct=(0,v.ZP)(d.k)`
  transform: translate(-50%, -50%);
`,Tt=(0,v.ZP)(d.k)`
  text-decoration: none;

  :focus-visible {
    outline-offset: ${({theme:t})=>`-${t.spaces[1]}`};
  }

  :hover {
    background: ${({theme:t})=>t.colors.primary100};

    /* Hover style for the number displayed */
    ${f.Z}:first-child {
      color: ${({theme:t})=>t.colors.primary500};
    }

    /* Hover style for the label */
    ${f.Z}:nth-child(1) {
      color: ${({theme:t})=>t.colors.primary600};
    }
  }
`,St=v.ZP.img`
  width: ${({theme:t})=>t.spaces[10]};
  height: ${({theme:t})=>t.spaces[8]};
  /* Same overlay used in ModalLayout */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
  border-radius: ${({theme:t})=>t.borderRadius};
`,he=(0,v.ZP)(f.Z)`
  /* line height of label and watch more to 1 so they can be better aligned visually */
  line-height: 1;
`,fe=(0,v.ZP)(he)`
  text-decoration: none;

  :hover {
    text-decoration: underline;
  }
`,Mt=()=>{const t=(0,e.useRef)(),[a,o]=(0,e.useState)(!1),{formatMessage:r}=(0,L.Z)(),{communityEdition:u}=(0,s.L7)(),p=()=>{o(m=>!m)},h=[...yt,{label:{id:"Settings.application.get-help",defaultMessage:"Get help"},icon:ut.Z,href:u?"https://discord.strapi.io":"https://support.strapi.io/support/home"}];return e.createElement(y.x,{as:"aside",position:"fixed",bottom:2,right:2},e.createElement(vt,{"aria-label":r(a?{id:"app.components.Onboarding.help.button-close",defaultMessage:"Close help menu"}:{id:"app.components.Onboarding.help.button",defaultMessage:"Open help menu"}),onClick:p,ref:t},e.createElement(F.J,{as:a?ne.Z:pt.Z,color:"buttonNeutral0"})),a&&e.createElement(ee.h,null,e.createElement(ct.M.Content,{padding:0,onDimiss:p,source:t,placement:"top-end",spacing:12},e.createElement(d.k,{justifyContent:"space-between",paddingBottom:5,paddingRight:6,paddingLeft:6,paddingTop:6},e.createElement(he,{fontWeight:"bold"},r({id:"app.components.Onboarding.title",defaultMessage:"Get started videos"})),e.createElement(fe,{as:"a",href:ge.href,target:"_blank",rel:"noreferrer noopener",variant:"pi",textColor:"primary600"},r(ge.label))),e.createElement(ce.i,null),Et.map(({href:m,duration:g,label:l},C)=>e.createElement(Tt,{as:"a",href:m,target:"_blank",rel:"noreferrer noopener",key:m,hasRadius:!0,paddingTop:4,paddingBottom:4,paddingLeft:6,paddingRight:11},e.createElement(y.x,{paddingRight:5},e.createElement(f.Z,{textColor:"neutral200",variant:"alpha"},C+1)),e.createElement(y.x,{position:"relative"},e.createElement(St,{src:gt,alt:""}),e.createElement(Ct,{position:"absolute",top:"50%",left:"50%",background:"primary600",borderRadius:"50%",justifyContent:"center",width:6,height:6},e.createElement(F.J,{as:mt.Z,color:"buttonNeutral0",width:3,height:3}))),e.createElement(d.k,{direction:"column",alignItems:"start",paddingLeft:4},e.createElement(f.Z,{fontWeight:"bold"},r(l)),e.createElement(dt.T,null,":"),e.createElement(f.Z,{textColor:"neutral600",variant:"pi"},g)))),e.createElement(d.k,{direction:"column",alignItems:"stretch",gap:2,paddingLeft:5,paddingTop:2,paddingBottom:5},h.map(({label:m,href:g,icon:l})=>e.createElement(d.k,{gap:3,key:g},e.createElement(F.J,{as:l,color:"primary600"}),e.createElement(fe,{as:"a",href:g,target:"_blank",rel:"noreferrer noopener",variant:"sigma",textColor:"primary700"},r(m))))))))},bt=(0,e.lazy)(()=>Promise.all([n.e(3848),n.e(8525),n.e(7027),n.e(994)]).then(n.bind(n,44545))),It=(0,e.lazy)(()=>n.e(3981).then(n.bind(n,68861))),Rt=(0,e.lazy)(()=>n.e(3677).then(n.bind(n,14928))),At=(0,e.lazy)(()=>n.e(5516).then(n.bind(n,78843))),Ee=(0,e.lazy)(()=>Promise.resolve().then(n.bind(n,23330))),Lt=(0,e.lazy)(()=>n.e(9501).then(n.bind(n,17502))),Pt=(0,e.lazy)(()=>n.e(9497).then(n.bind(n,50166))),ye=(0,e.lazy)(()=>n.e(5895).then(n.bind(n,62053))),kt=()=>{const{trackUsage:t}=(0,s.rS)(),a=(0,W.I0)(),o=(0,W.v9)(r=>r.admin_app.status);(0,e.useEffect)(()=>{o==="init"&&(t("didAccessAuthenticatedAdministration"),a({type:lt.e}))},[o])},xt=()=>{kt();const{isLoading:t,generalSectionLinks:a,pluginsSectionLinks:o}=(0,D.H9)(),{menu:r}=(0,s.j1)(),{showTutorials:u}=(0,D.um)(),p=(0,e.useMemo)(()=>r.filter(h=>h.Component).map(({to:h,Component:m,exact:g})=>(0,K.ot)(m,h,g)),[r]);return t?e.createElement(s.dO,null):e.createElement(Le.DndProvider,{backend:Pe.PD},e.createElement(rt,{sideNav:e.createElement(ot,{generalSectionLinks:a,pluginsSectionLinks:o})},e.createElement(e.Suspense,{fallback:e.createElement(s.dO,null)},e.createElement(E.rs,null,e.createElement(E.AW,{path:"/",component:It,exact:!0}),e.createElement(E.AW,{path:"/me",component:Pt,exact:!0}),e.createElement(E.AW,{path:"/content-manager",component:bt}),p,e.createElement(E.AW,{path:"/settings/:settingId",component:ye}),e.createElement(E.AW,{path:"/settings",component:ye,exact:!0}),e.createElement(E.AW,{path:"/marketplace"},e.createElement(At,null)),e.createElement(E.AW,{path:"/list-plugins",exact:!0},e.createElement(Rt,null)),e.createElement(E.AW,{path:"/404",component:Ee}),e.createElement(E.AW,{path:"/500",component:Lt}),e.createElement(E.AW,{path:"",component:Ee}))),e.createElement(Ke,null),u&&e.createElement(Mt,null)))},Ot=t=>({plugins:Object.keys(t).reduce((a,o)=>(a[o]={...t[o]},a),{})});var Gt=n(36968),Nt=n.n(Gt);const ve={plugins:null},Zt=(t=ve,a)=>(0,oe.ZP)(t,o=>{switch(a.type){case"SET_PLUGIN_READY":{Nt()(o,["plugins",a.pluginId,"isReady"],!0);break}default:return o}}),Bt=()=>{const{plugins:t}=(0,s.j1)(),[{plugins:a},o]=(0,e.useReducer)(Zt,ve,()=>Ot(t)),r=(0,e.useRef)(p=>{o({type:"SET_PLUGIN_READY",pluginId:p})});if(Object.keys(a).some(p=>a[p].isReady===!1)){const p=Object.keys(a).reduce((h,m)=>{const g=a[m].initializer;if(g){const l=a[m].pluginId;h.push(e.createElement(g,{key:l,setPlugin:r.current}))}return h},[]);return e.createElement(e.Fragment,null,p,e.createElement(s.dO,null))}return e.createElement(xt,null)};var Ce=n(28344);const Dt=()=>({type:Ce.l}),Wt=t=>({type:Ce.m,permissions:t}),Te=({children:t,permissions:a,refetchPermissions:o})=>{const{allPermissions:r}=(0,W.v9)(p=>p.rbacProvider),u=(0,W.I0)();return(0,e.useEffect)(()=>(u(Wt(a)),()=>{u(Dt())}),[a,u]),r?e.createElement(s.oL.Provider,{value:{allPermissions:r,refetchPermissions:o}},t):e.createElement(s.dO,null)};Te.propTypes={children:i().element.isRequired,permissions:i().array.isRequired,refetchPermissions:i().func.isRequired};const Ft=Te;var Ut=n(36625),Y=n.n(Ut);const Se=(t,a)=>!Y().valid(t)||!Y().valid(a)?!1:Y().lt(t,a),Me=q.i8,jt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),{get:J}=(0,s.tg)(),$t=async t=>{try{const a=await fetch("https://api.github.com/repos/strapi/strapi/releases/latest");if(!a.ok)throw new Error("Failed to fetch latest Strapi version.");const{tag_name:o}=await a.json();return Se(Me,o)&&jt&&t({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${o}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)}),o}catch{return Me}},Qt=async()=>{try{const{data:t,headers:a}=await J("/admin/information");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}},zt=async()=>{try{const{data:t,headers:a}=await J("/admin/users/me/permissions");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}},Ht=async()=>{try{const{data:{data:{roles:t}}}=await J("/admin/users/me");return t}catch(t){throw new Error(t)}},be=q.i8,wt=()=>{const{setGuidedTourVisibility:t}=(0,s.c1)(),a=(0,s.lm)(),o=s.I8.getUserInfo(),r=Ae()(o,"username")||(0,K.Pp)(o.firstname,o.lastname),[u,p]=(0,e.useState)(r),[h,m]=(0,e.useState)(null),{showReleaseNotification:g}=(0,D.um)(),[{data:l,status:C},{data:b,isLoading:G},{data:N,status:P,refetch:S,isFetched:Z,isFetching:I},{data:T}]=(0,Ie.useQueries)([{queryKey:"app-infos",queryFn:Qt},{queryKey:"strapi-release",queryFn:()=>$t(a),enabled:g,initialData:be},{queryKey:"admin-users-permission",queryFn:zt,initialData:[]},{queryKey:"user-roles",queryFn:Ht}]),R=Se(be,b);return(0,e.useEffect)(()=>{T&&T.find(({code:B})=>B==="strapi-super-admin")&&l?.autoReload&&t(!0)},[T,l,t]),(0,e.useEffect)(()=>{(async()=>{const B=await(0,K.Qy)(o);m(B)})()},[o]),G||(I&&Z||C==="loading"||P==="loading")?e.createElement(s.dO,null):C==="error"?e.createElement("div",null,"error..."):e.createElement(s.iq,{...l,userId:h,latestStrapiReleaseTag:b,setUserDisplayName:p,shouldUpdateStrapi:R,userDisplayName:u},e.createElement(Ft,{permissions:N,refetchPermissions:S},e.createElement(Bt,null)))}}}]);
