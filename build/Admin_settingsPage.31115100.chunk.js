(self.webpackChunkapi=self.webpackChunkapi||[]).push([[5895],{62053:(T,p,t)=>{"use strict";t.r(p),t.d(p,{SettingsPage:()=>It,default:()=>ze});var e=t(67294),l=t(22008),d=t(16550),h=t(17034),r=t(86896),M=t(64593),g=t(95428),S=t(19631),P=t(15861),I=t(64687),O=t.n(I),F=t(88767),y=t(185),A=t(53979),v=t(29728),B=t(49066),E=t(11047),x=t(75515),D=t(11276),W=t(74571),N=t(85018),G=t(87751),H=t(45697),s=t.n(H),K=t(41580);const U=750,V=100,_=["image/jpeg","image/png","image/svg+xml"];var nt=t(73987),Y=t(17973),b=t(12028),ot=t(59689),at=t(96315),st=t(30815),lt=t(42866),Q=t(24969),it=t(18172);const Mt={localImage:void 0},jt=(o=Mt,n)=>(0,it.ZP)(o,a=>{switch(n.type){case"SET_LOCAL_IMAGE":{a.localImage=n.value;break}default:return a}}),rt=({onChangeLogo:o,customLogo:n,goTo:a,Component:i,modalTitle:c,next:L,prev:f,currentStep:C})=>{const[{localImage:u},m]=(0,e.useReducer)(jt,Mt),{formatMessage:j}=(0,r.Z)(),R=Z=>{m({type:"SET_LOCAL_IMAGE",value:Z})},z=()=>{a(null)};return C?e.createElement(lt.P,{labelledBy:"modal",onClose:z},e.createElement(Q.x,null,e.createElement(x.Z,{fontWeight:"bold",as:"h2",id:"modal"},j(c))),e.createElement(i,{setLocalImage:R,goTo:a,next:L,prev:f,onClose:z,asset:u||n,onChangeLogo:o})):null};rt.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},rt.propTypes={Component:s().elementType,currentStep:s().string,customLogo:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}),goTo:s().func.isRequired,modalTitle:s().shape({id:s().string,defaultMessage:s().string}),next:s().string,onChangeLogo:s().func.isRequired,prev:s().string};const zt=rt,Lt={currentStep:void 0},Zt=(o=Lt,n)=>(0,it.ZP)(o,a=>{switch(n.type){case"GO_TO":{a.currentStep=n.to;break}default:return a}});var Ft=t(82777),dt=t(77296),Wt=t(70004),ct=t(42761),Kt=t(71997),$t=t(45377),Nt=t(54574),Gt=t(52624),Ht=t(96404),mt=t(36856),Vt=t(35957);const Qt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},St={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Xt=o=>new Promise(n=>{const a=new FileReader;a.onload=()=>{const i=new Image;i.onload=function(){n({width:i.width,height:i.height})},i.src=a.result},a.readAsDataURL(o)}),Jt=(o,n)=>({ext:o.name.split(".").pop(),size:o.size/1e3,name:o.name,url:URL.createObjectURL(o),rawFile:o,width:n.width,height:n.height}),yt=async o=>{let n;if(!_.includes(o.type))throw n=new Error("File format"),n.displayMessage=Qt,n;const i=await Xt(o);if(!(i.width<=U&&i.height<=U))throw n=new Error("File sizing"),n.displayMessage=St,n;const L=Jt(o,i);if(!(L.size<=V))throw n=new Error("File sizing"),n.displayMessage=St,n;return L},Yt=(0,Kt.ZP)($t._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,ut=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:c}=(0,r.Z)(),[L,f]=(0,e.useState)(!1),[C,u]=(0,e.useState)(void 0),m=(0,e.useRef)(null),j=()=>f(!0),R=()=>f(!1),z=X=>{X.preventDefault(),m.current.click()},Z=async()=>{R();const X=m.current.files[0];if(X)try{const J=await yt(X);o(J),n(a)}catch(J){if(J.displayMessage)u(c(J.displayMessage,{size:V,dimension:U})),m.current.focus();else throw J}},$=()=>L?"primary500":C?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(K.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Nt.g,{name:"logo-upload",error:C},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(E.k,{direction:"column",alignItems:"stretch",gap:2},e.createElement(E.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:L?"primary100":"neutral100",borderColor:$(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:j,onDragLeave:R},e.createElement(Gt.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Vt.Z,"aria-hidden":!0}),e.createElement(K.x,{paddingTop:3,paddingBottom:5},e.createElement(x.Z,{variant:"delta",as:"span"},c({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(Yt,{accept:_,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:Z,ref:m,id:"logo-upload"}),e.createElement(v.z,{type:"button",onClick:z},c({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(K.x,{paddingTop:6},e.createElement(x.Z,{variant:"pi",textColor:"neutral600"},c({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:V,dimension:U})))),e.createElement(Ht.c,null)))))),e.createElement(mt.m,{startActions:e.createElement(v.z,{onClick:i,variant:"tertiary"},c({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};ut.defaultProps={next:null},ut.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const bt=ut;var wt=t(16364);const kt=async o=>{try{const{get:n}=(0,l.tg)(),a=await n(o,{responseType:"blob",timeout:8e3});return new File([a.data],a.config.url,{type:a.headers["content-type"]})}catch(n){throw n.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},n}},gt=({goTo:o,next:n,onClose:a,setLocalImage:i})=>{const{formatMessage:c}=(0,r.Z)(),[L,f]=(0,e.useState)(""),[C,u]=(0,e.useState)(null),m=R=>{f(R.target.value)},j=async()=>{try{const R=await kt(L),z=await yt(R);i(z),o(n)}catch(R){if(R.displayMessage)u(c(R.displayMessage,{size:V,dimension:U}));else throw R}};return e.createElement("form",{onSubmit:R=>{R.preventDefault(),j()}},e.createElement(K.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(wt.o,{label:c({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:C,onChange:m,value:L,name:"logo-url"})),e.createElement(mt.m,{startActions:e.createElement(v.z,{onClick:a,variant:"tertiary"},c({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(v.z,{type:"submit"},c({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};gt.defaultProps={next:null},gt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const qt=gt,pt=({setLocalImage:o,goTo:n,next:a,onClose:i})=>{const{formatMessage:c}=(0,r.Z)();return e.createElement(Ft.v,{label:c({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(K.x,{paddingLeft:8,paddingRight:8},e.createElement(dt.m,null,e.createElement(dt.O,null,c({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(dt.O,null,c({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement(Wt.i,null)),e.createElement(ct.n,null,e.createElement(ct.x,null,e.createElement(bt,{onClose:i,setLocalImage:o,goTo:n,next:a})),e.createElement(ct.x,null,e.createElement(qt,{onClose:i,setLocalImage:o,goTo:n,next:a}))))};pt.defaultProps={next:null},pt.propTypes={goTo:s().func.isRequired,next:s().string,onClose:s().func.isRequired,setLocalImage:s().func.isRequired};const _t=pt;var te=t(99220),ee=t(19093),ne=t(87535),oe=t(25001),ae=t(75517),Rt=t(20799),se=t(41384);const Tt=({asset:o})=>{const{formatMessage:n}=(0,r.Z)();return e.createElement(te.Z,null,e.createElement(ee.O,null,e.createElement(ne.H,{size:"S",src:o.url})),e.createElement(oe.e,null,e.createElement(ae.a,null,e.createElement(Rt.l,null,o.name),e.createElement(Rt._,null,`${o.ext.toUpperCase()} - ${o.width}\u2715${o.height}`)),e.createElement(se.E,null,n({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};Tt.propTypes={asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired};const le=Tt,ht=({onClose:o,asset:n,prev:a,next:i,goTo:c,setLocalImage:L,onChangeLogo:f})=>{const{formatMessage:C}=(0,r.Z)(),u=()=>{L(void 0),c(a)},m=()=>{f(n),c(i)};return e.createElement(e.Fragment,null,e.createElement(K.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(E.k,{justifyContent:"space-between",paddingBottom:6},e.createElement(E.k,{direction:"column",alignItems:"flex-start"},e.createElement(x.Z,{variant:"pi",fontWeight:"bold"},C({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(x.Z,{variant:"pi",textColor:"neutral500"},C({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(v.z,{onClick:u,variant:"secondary"},C({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(K.x,{maxWidth:(0,l.Q1)(180)},n.url?e.createElement(le,{asset:n}):null)),e.createElement(mt.m,{startActions:e.createElement(v.z,{onClick:o,variant:"tertiary"},C({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(v.z,{onClick:m},C({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};ht.defaultProps={next:null,prev:null},ht.propTypes={goTo:s().func.isRequired,asset:s().shape({name:s().string,url:s().string,width:s().number,height:s().number,ext:s().string}).isRequired,next:s().string,onClose:s().func.isRequired,onChangeLogo:s().func.isRequired,prev:s().string,setLocalImage:s().func.isRequired};const ie={upload:{Component:_t,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:ht,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},Et=({canUpdate:o,customLogo:n,defaultLogo:a,hint:i,label:c,onChangeLogo:L,onResetLogo:f})=>{const[{currentStep:C},u]=(0,e.useReducer)(Zt,Lt),{Component:m,next:j,prev:R,modalTitle:z}=ie[C]||{},{formatMessage:Z}=(0,r.Z)(),$=X=>{u({type:"GO_TO",to:X})};return e.createElement(e.Fragment,null,e.createElement(nt.F,{label:c,selectedSlide:0,hint:i,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:n?.name||"logo.png",actions:e.createElement(Y.b,null,e.createElement(b.h,{disabled:!o,onClick:()=>$(n?"pending":"upload"),label:Z({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(at.Z,null)}),n&&e.createElement(b.h,{disabled:!o,onClick:f,label:Z({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(st.Z,null)}))},e.createElement(ot.q,{label:Z({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(K.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:n?.url||a,alt:Z({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(zt,{Component:m,currentStep:C,onChangeLogo:L,customLogo:n,goTo:$,next:j,prev:R,modalTitle:z}))};Et.defaultProps={canUpdate:!1,customLogo:null,hint:null},Et.propTypes={canUpdate:s().bool,customLogo:s().shape({url:s().string,name:s().string}),label:s().string.isRequired,hint:s().string,defaultLogo:s().string.isRequired,onChangeLogo:s().func.isRequired,onResetLogo:s().func.isRequired};const Pt=Et,ft={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}},re=(o=ft,n)=>(0,it.ZP)(o,a=>{switch(n.type){case"SET_CUSTOM_MENU_LOGO":{a.menuLogo.display=n.value,a.menuLogo.submit.rawFile=n.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{a.authLogo.display=n.value,a.authLogo.submit.rawFile=n.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{a.menuLogo.display=null,a.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{a.authLogo.display=null,a.authLogo.submit={rawFile:null,isReset:!0};break}default:return a}});var de=t(82492),ce=t.n(de);const me=(o,n)=>ce()(o,{menuLogo:{display:n.menuLogo},authLogo:{display:n.authLogo}}),vt=(0,e.forwardRef)(({canUpdate:o,projectSettingsStored:n},a)=>{const{formatMessage:i}=(0,r.Z)(),{trackUsage:c}=(0,l.rS)(),{logos:{menu:L,auth:f}}=(0,g.um)(),[{menuLogo:C,authLogo:u},m]=(0,e.useReducer)(re,ft,()=>me(ft,n)),j=$=>{m({type:"SET_CUSTOM_MENU_LOGO",value:$})},R=()=>{c("didClickResetLogo",{logo:"menu"}),m({type:"RESET_CUSTOM_MENU_LOGO"})},z=$=>{m({type:"SET_CUSTOM_AUTH_LOGO",value:$})},Z=()=>{c("didClickResetLogo",{logo:"auth"}),m({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,e.useImperativeHandle)(a,()=>({getValues:()=>({menuLogo:C.submit,authLogo:u.submit})})),e.createElement(K.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(x.Z,{variant:"delta",as:"h3"},i({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(x.Z,{variant:"pi",textColor:"neutral600"},i({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:U,size:V})),e.createElement(D.r,{paddingTop:4,gap:4},e.createElement(W.P,{col:6,s:12},e.createElement(Pt,{canUpdate:o,customLogo:C.display,defaultLogo:L.default,hint:i({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:i({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:j,onResetLogo:R})),e.createElement(W.P,{col:6,s:12},e.createElement(Pt,{canUpdate:o,customLogo:u.display,defaultLogo:f.default,hint:i({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:i({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:z,onResetLogo:Z}))))});vt.defaultProps={canUpdate:!1,projectSettingsStored:null},vt.propTypes={canUpdate:s().bool,projectSettingsStored:s().shape({menuLogo:s().shape({url:s().string,name:s().string})})};const ue=vt;var ge=t(68718),pe=t.n(ge);const Ot=o=>pe()(o,(n,a,i)=>{a&&a.url?n[i]={...a,url:(0,l.CR)(a.url)}:n[i]=a},{}),he=async()=>{const{get:o}=(0,l.tg)(),{data:n}=await o("/admin/project-settings");return Ot(n)},Ee=async o=>{const{post:n}=(0,l.tg)(),{data:a}=await n("/admin/project-settings",o,{headers:{"Content-Type":"multipart/form-data"}});return Ot(a)},fe=o=>{const n=new FormData;return Object.entries(o).forEach(([a,i])=>{i&&i.rawFile instanceof File&&n.append(a,i.rawFile),i&&i.isReset&&n.append(a,null)}),n};var ve=function(){return window&&window.strapi&&window.strapi.isEE?t(78413).Z:t(69767).Z}(),xe=function(){var n=(0,e.useRef)(),a=(0,l.lm)(),i=(0,l.rS)(),c=i.trackUsage,L=(0,r.Z)(),f=L.formatMessage,C=(0,F.useQueryClient)();(0,l.go)();var u=(0,l.L7)(),m=u.latestStrapiReleaseTag,j=u.shouldUpdateStrapi,R=u.strapiVersion,z=(0,g.um)(),Z=z.updateProjectSettings,$=(0,l.ss)(G.Z.settings["project-settings"]),X=$.allowedActions,J=X.canRead,xt=X.canUpdate,Ze=J&&xt,Fe=(0,F.useQuery)("project-settings",he,{enabled:J}),Bt=Fe.data,We=(0,F.useMutation)(function(Ct){return Ee(Ct)},{onSuccess:function(et){return(0,P.Z)(O().mark(function tt(){var w,k;return O().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return w=et.menuLogo,k=et.authLogo,q.next=3,C.invalidateQueries("project-settings",{refetchActive:!0});case 3:Z({menuLogo:w?.url,authLogo:k?.url});case 4:case"end":return q.stop()}},tt)}))()}}),Ke=function(et){if(et.preventDefault(),!!xt){var tt=n.current.getValues(),w=fe(tt);We.mutate(w,{onSuccess:function(){var Ut=tt.menuLogo,q=tt.authLogo;Ut.rawFile&&c("didChangeLogo",{logo:"menu"}),q.rawFile&&c("didChangeLogo",{logo:"auth"}),a({type:"success",message:f({id:"app",defaultMessage:"Saved"})})},onError:function(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})}};return e.createElement(h.A,null,e.createElement(l.SL,{name:"Application"}),e.createElement(y.o,null,e.createElement("form",{onSubmit:Ke},e.createElement(A.T,{title:f({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:f({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:Ze&&e.createElement(v.z,{type:"submit",startIcon:e.createElement(N.Z,null)},f({id:"global.save",defaultMessage:"Save"}))}),e.createElement(B.D,null,e.createElement(E.k,{direction:"column",alignItems:"stretch",gap:6},e.createElement(E.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(x.Z,{variant:"delta",as:"h3"},f({id:"global.details",defaultMessage:"Details"})),e.createElement(D.r,{gap:5,as:"dl"},e.createElement(W.P,{col:6,s:12},e.createElement(x.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},f({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(x.Z,{as:"dd"},u.nodeVersion)),e.createElement(ve,null))),J&&Bt&&e.createElement(ue,{canUpdate:xt,ref:n,projectSettingsStored:Bt}))))))};const Ce=xe;var Me=t(94654),Le=t.n(Me);const Se=o=>Le()(o,a=>a.links).map(a=>(0,S.ot)(a.Component,a.to,a.exact||!1)),ye=o=>o.filter(n=>!n.links.every(a=>a.isDisplayed===!1));var At=t(42982);const Re=[{async Component(){return await t.e(3455).then(t.bind(t,98906))},to:"/settings/roles",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(2544)]).then(t.bind(t,23341))},to:"/settings/roles/duplicate/:id",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(2544)]).then(t.bind(t,23341))},to:"/settings/roles/new",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(2544)]).then(t.bind(t,92100))},to:"/settings/roles/:id",exact:!0},{async Component(){return await t.e(5199).then(t.bind(t,88587))},to:"/settings/users",exact:!0},{async Component(){return await t.e(4263).then(t.bind(t,22282))},to:"/settings/users/:id",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,3672))},to:"/settings/webhooks/create",exact:!0},{async Component(){return await t.e(5162).then(t.bind(t,42122))},to:"/settings/webhooks/:id",exact:!0},{async Component(){return await t.e(4121).then(t.bind(t,59657))},to:"/settings/webhooks",exact:!0},{async Component(){return await t.e(8056).then(t.bind(t,87427))},to:"/settings/api-tokens",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(7692),t.e(4299)]).then(t.bind(t,9683))},to:"/settings/api-tokens/create",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(7692),t.e(92)]).then(t.bind(t,28465))},to:"/settings/api-tokens/:id",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(3219),t.e(4816)]).then(t.bind(t,39987))},to:"/settings/transfer-tokens/create",exact:!0},{async Component(){return await t.e(9600).then(t.bind(t,70798))},to:"/settings/transfer-tokens",exact:!0},{async Component(){return await Promise.all([t.e(5125),t.e(9381),t.e(3219),t.e(2492)]).then(t.bind(t,9452))},to:"/settings/transfer-tokens/:id",exact:!0}];var Te=function(){return window&&window.strapi&&window.strapi.isEE?t(5420).Z:t(35301).Z}();const Pe=[].concat((0,At.Z)(Te),(0,At.Z)(Re));var Oe=t(73727),Ae=t(53192),De=t(60984),Ie=t(34446),Be=t(29489),Ue=t(52305);const Dt=({menu:o})=>{const{formatMessage:n}=(0,r.Z)(),{trackUsage:a}=(0,l.rS)(),{pathname:i}=(0,d.TH)(),L=ye(o).map(u=>({...u,title:u.intlLabel,links:u.links.map(m=>({...m,title:m.intlLabel,name:m.id}))})),f=n({id:"global.settings",defaultMessage:"Settings"}),C=(u=null)=>{a("willNavigate",{from:i,to:u})};return e.createElement(Ae.m,{ariaLabel:f},e.createElement(De.p,{label:f}),e.createElement(Ie.Z,null,L.map(u=>e.createElement(Be.D,{key:u.id,label:n(u.intlLabel)},u.links.map(m=>e.createElement(Ue.E,{as:Oe.OL,withBullet:m.hasNotification,to:m.to,onClick:()=>C(m.to),key:m.id},n(m.intlLabel)))))))};Dt.propTypes={menu:s().array.isRequired};const je=Dt;function It(){const{settingId:o}=(0,d.UO)(),{settings:n}=(0,l.j1)(),{formatMessage:a}=(0,r.Z)(),{isLoading:i,menu:c}=(0,g.Te)(),L=(0,e.useMemo)(()=>(0,S.WW)(Pe.map(({to:u,Component:m,exact:j})=>(0,S.ot)(m,u,j))),[]),f=Se(n);if(i)return e.createElement(l.dO,null);if(!o)return e.createElement(d.l_,{to:"/settings/application-infos"});const C=a({id:"global.settings",defaultMessage:"Settings"});return e.createElement(h.A,{sideNav:e.createElement(je,{menu:c})},e.createElement(M.q,{title:C}),e.createElement(d.rs,null,e.createElement(d.AW,{path:"/settings/application-infos",component:Ce,exact:!0}),L,f))}const ze=(0,e.memo)(It)},69767:(T,p,t)=>{"use strict";t.d(p,{Z:()=>l});const l=()=>null},35301:(T,p,t)=>{"use strict";t.d(p,{Z:()=>l});const l=[]},78413:(T,p,t)=>{"use strict";t.d(p,{Z:()=>B});var e=t(67294),l=t(86896),d=t(74571),h=t(75515),r=t(11047),M=t(84495),g=t(52624),S=t(36182),P=t(51277),I=t(17772),O=t(22008),F=t(69483);const y="https://cloud.strapi.io/profile/billing",A="https://strapi.io/billing/request-seats",B=()=>{const{formatMessage:E}=(0,l.Z)(),{license:x}=(0,F.q5)(),{licenseLimitStatus:D,enforcementUserCount:W,permittedSeats:N,isHostedOnStrapiCloud:G}=x?.data??{};return N?e.createElement(d.P,{col:6,s:12},e.createElement(h.Z,{variant:"sigma",textColor:"neutral600"},E({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})),e.createElement(r.k,{gap:2},e.createElement(r.k,null,e.createElement(h.Z,{as:"p"},E({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:N,enforcementUserCount:W,text:H=>e.createElement(h.Z,{fontWeight:"semiBold",textColor:W>N?"danger500":null},H)}))),D==="OVER_LIMIT"&&e.createElement(M.u,{description:E({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"})},e.createElement(g.J,{width:`${(0,O.Q1)(14)}rem`,height:`${(0,O.Q1)(14)}rem`,color:"danger500",as:P.Z}))),e.createElement(S.r,{href:G?y:A,isExternal:!0,endIcon:e.createElement(I.Z,null)},E({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:G}))):null}},5420:(T,p,t)=>{"use strict";t.d(p,{Z:()=>l});const e=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&e.push({async Component(){return await t.e(302).then(t.bind(t,40316))},to:"/settings/single-sign-on",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({async Component(){return await Promise.all([t.e(3486),t.e(7027),t.e(8155)]).then(t.bind(t,97259))},to:"/settings/review-workflows",exact:!0}),window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&e.push({async Component(){return await t.e(2812).then(t.bind(t,35915))},to:"/settings/audit-logs",exact:!0});const l=e},94654:(T,p,t)=>{var e=t(21078),l=t(35161);function d(h,r){return e(l(h,r),1)}T.exports=d},35161:(T,p,t)=>{var e=t(29932),l=t(67206),d=t(69199),h=t(1469);function r(M,g){var S=h(M)?e:d;return S(M,l(g,3))}T.exports=r},17034:(T,p,t)=>{"use strict";t.d(p,{A:()=>M});var e=t(85893),l=t(71997),d=t(41580);const h=(0,l.ZP)(d.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:g})=>g?"auto 1fr":"1fr"};
`,r=(0,l.ZP)(d.x)`
  overflow-x: hidden;
`,M=({sideNav:g,children:S})=>(0,e.jsxs)(h,{hasSideNav:!!g,children:[g,(0,e.jsx)(r,{paddingBottom:10,children:S})]})},53192:(T,p,t)=>{"use strict";t.d(p,{m:()=>M});var e=t(85893),l=t(71997),d=t(11276);const h=`${232/16}rem`,r=(0,l.ZP)(d.r)`
  width: ${h};
  background: ${({theme:g})=>g.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:g})=>g.colors.neutral200};
  z-index: 1;
`,M=({ariaLabel:g,...S})=>(0,e.jsx)(r,{"aria-label":g,as:"nav",...S})},60984:(T,p,t)=>{"use strict";t.d(p,{p:()=>B});var e=t(85893),l=t(67294),d=t(97184),h=t(71997),r=t(7801),M=t(2504);const g=E=>{const x=(0,l.useRef)();return(0,l.useEffect)(()=>{x.current=E}),x.current};var S=t(70004),P=t(41580),I=t(8509),O=t(49123),F=t(11047),y=t(75515),A=t(12028);const v=(0,h.ZP)(S.i)`
  width: ${24/16}rem;
  background-color: ${({theme:E})=>E.colors.neutral200};
`,B=({as:E="h2",label:x,searchLabel:D="",searchable:W=!1,onChange:N=()=>{},value:G="",onClear:H=()=>{},onSubmit:s=()=>{},id:K})=>{const[U,V]=(0,l.useState)(!1),_=g(U),nt=(0,M.M)(K),Y=(0,l.useRef)(void 0),b=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{U&&Y.current&&Y.current.focus(),_&&!U&&b.current&&b.current.focus()},[U,_]);const ot=()=>{V(Q=>!Q)},at=Q=>{H(Q),Y.current.focus()},st=Q=>{Q.relatedTarget?.id!==nt&&V(!1)},lt=Q=>{Q.key===r.y.ESCAPE&&V(!1)};return U?(0,e.jsxs)(P.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,e.jsx)(I.U,{children:(0,e.jsx)(O.w,{name:"searchbar",value:G,onChange:N,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:lt,ref:Y,onBlur:st,onClear:at,onSubmit:s,clearLabel:"Clear",size:"S",children:D})}),(0,e.jsx)(P.x,{paddingLeft:2,paddingTop:4,children:(0,e.jsx)(v,{})})]}):(0,e.jsxs)(P.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,e.jsxs)(F.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,e.jsx)(y.Z,{variant:"beta",as:E,children:x}),W&&(0,e.jsx)(A.h,{ref:b,onClick:ot,label:D,icon:(0,e.jsx)(d.Z,{})})]}),(0,e.jsx)(P.x,{paddingTop:4,children:(0,e.jsx)(v,{})})]})}},52305:(T,p,t)=>{"use strict";t.d(p,{E:()=>F});var e=t(85893),l=t(67294),d=t(71818),h=t(71997),r=t(41580),M=t(75515),g=t(11047),S=t(63507);const P=(0,h.ZP)(r.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:y})=>y.colors.neutral800};
  svg > * {
    fill: ${({theme:y})=>y.colors.neutral600};
  }

  &.active {
    ${({theme:y})=>`
      background-color: ${y.colors.primary100};
      border-right: 2px solid ${y.colors.primary600};
      svg > * {
        fill: ${y.colors.primary700};
      }
      ${M.Z} {
        color: ${y.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,I=(0,h.ZP)(d.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:y,$active:A})=>A?y.colors.primary600:y.colors.neutral600};
  }
`,O=h.ZP.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,F=l.forwardRef(({children:y,icon:A=null,withBullet:v=!1,as:B=S.f,isSubSectionChild:E=!1,...x},D)=>(0,e.jsxs)(P,{as:B,icon:A,background:"neutral100",paddingLeft:E?9:7,paddingBottom:2,paddingTop:2,ref:D,...x,children:[(0,e.jsxs)(g.k,{children:[A?(0,e.jsx)(O,{children:A}):(0,e.jsx)(I,{}),(0,e.jsx)(r.x,{paddingLeft:2,children:(0,e.jsx)(M.Z,{as:"span",children:y})})]}),v&&(0,e.jsx)(r.x,{as:g.k,paddingRight:4,children:(0,e.jsx)(I,{$active:!0})})]}))},29489:(T,p,t)=>{"use strict";t.d(p,{D:()=>A});var e=t(85893),l=t(67294),d=t(71997),h=t(12645),r=t(11047),M=t(41580),g=t(75515);const S=(0,d.ZP)(r.k)`
  border: none;
  padding: 0;
  background: transparent;
`,P=d.ZP.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:v})=>v?"0deg":"180deg"});
`,I=({collapsable:v=!1,label:B,onClick:E=()=>{},ariaExpanded:x,ariaControls:D})=>v?(0,e.jsxs)(S,{as:"button",onClick:E,"aria-expanded":x,"aria-controls":D,textAlign:"left",children:[(0,e.jsx)(M.x,{paddingRight:1,children:(0,e.jsx)(g.Z,{variant:"sigma",textColor:"neutral600",children:B})}),v&&(0,e.jsx)(P,{rotated:x,children:(0,e.jsx)(h.Z,{"aria-hidden":!0})})]}):(0,e.jsx)(S,{children:(0,e.jsx)(M.x,{paddingRight:1,children:(0,e.jsx)(g.Z,{variant:"sigma",textColor:"neutral600",children:B})})});var O=t(2504),F=t(30190);const y=(0,d.ZP)(M.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:v})=>v.colors.neutral500};
    }
  }
`,A=({collapsable:v=!1,label:B,badgeLabel:E,children:x,id:D})=>{const[W,N]=(0,l.useState)(!0),G=(0,O.M)(D);return(0,e.jsxs)(r.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(y,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,e.jsxs)(M.x,{position:"relative",paddingRight:E?6:0,children:[(0,e.jsx)(I,{onClick:()=>{N(H=>!H)},ariaExpanded:W,ariaControls:G,collapsable:v,label:B}),E&&(0,e.jsx)(F.C,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:E})]})}),(!v||W)&&(0,e.jsx)("ol",{id:G,children:l.Children.map(x,(H,s)=>(0,e.jsx)("li",{children:H},s))})]})}},34446:(T,p,t)=>{"use strict";t.d(p,{Z:()=>r});var e=t(85893),l=t(67294),d=t(41580),h=t(11047);const r=({children:M,spacing:g=2,horizontal:S=!1,...P})=>(0,e.jsx)(d.x,{paddingTop:2,paddingBottom:4,children:(0,e.jsx)(h.k,{as:"ol",gap:g,direction:S?"row":"column",alignItems:S?"center":"stretch",...P,children:l.Children.map(M,(I,O)=>(0,e.jsx)("li",{children:I},O))})})},71818:(T,p,t)=>{"use strict";t.d(p,{Z:()=>d});var e=t(85893);const l=h=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 4 4",...h,children:(0,e.jsx)("rect",{width:4,height:4,fill:"#A5A5BA",rx:2})}),d=l}}]);
